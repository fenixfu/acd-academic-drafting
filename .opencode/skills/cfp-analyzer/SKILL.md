---
name: cfp-analyzer
description: |
  征稿启事解析与文章结构设计工具。覆盖学术投稿准备的前三步：
  1. 技术解析征稿启事（CFP/Call for Papers），提炼形式要求与隐含偏好
  2. 将非结构化的讨论记录整理为可直接用于写作的结构化素材库
  3. 设计符合学术规范的文章结构（标题 + 各级节名）
  
  适用场景：准备投稿学术期刊、会议论文集；将头脑风暴或会议讨论记录转化为论文提纲。
  建议配合 academic-writer-persona skill 使用，再交由 academic-drafter skill 执行写作。
---

# 征稿解析与结构设计（CFP Analyzer）

> **前置说明**：必须先加载 `academic-writer-persona`作为系统提示词，再执行本流程。本 skill 处理的是**写作前的智识准备工作**，不产出正文。
> **重要提示**：所有生成多个方案的步骤需暂停，交由用户决定。
---

## 文件输入协议（所有步骤执行前必读）

本 skill 的两类核心输入（征稿启事、讨论记录）均支持**文件上传**，优先于对话内粘贴。每次被调用时，**第一个动作**必须是检查上传目录。

### 标准启动流程

```
1. 执行：view ./references/
2. 根据目录内容，判断进入哪种情况（见下表）
3. 向用户确认文件对应关系，再开始分析
```

### 文件识别规则

| 上传目录状态 | 处理方式 |
|------------|---------|
| 目录为空 | 询问用户：「请上传征稿启事和/或讨论记录文件，支持 .txt、.md、.pdf、.docx 格式；也可以直接在对话中粘贴文本。」|
| 有1个文件 | 读取文件，根据内容自动判断是「征稿启事」还是「讨论记录」，向用户确认后执行对应步骤 |
| 有2个及以上文件 | 列出所有文件名，询问用户：「哪个是征稿启事？哪个是讨论记录？」（不自行假设） |
| 文件已在对话中被提及 | 优先使用用户已说明的对应关系，无需重新询问 |

### 文件读取方式

- **纯文本文件**（.txt / .md）：直接 `view` 读取全文
- **PDF 文件**：使用 `bash` 调用 `pdftotext` 提取文本后读取
- **Word 文件**（.docx）：使用 `bash` 调用 `python-docx` 或 `catdoc` 提取文本后读取
- **读取失败时**：告知用户文件格式无法解析，请求改为粘贴文本

### 多文件命名约定（建议告知用户）

如果用户计划上传多个文件，建议使用以下命名以便自动识别：
- 征稿启事：文件名含 `cfp`、`call`、`征稿` 任一关键词
- 讨论记录：文件名含 `notes`、`discussion`、`记录`、`讨论` 任一关键词

---

## 步骤一：征稿启事技术解析

**触发条件**：已通过文件上传或对话粘贴获取了征稿启事全文（CFP/征稿函/投稿指南）。

### 任务

将征稿启事转化为一份结构化的「技术规格书」，供后续写作全程参照。

### 输出结构

#### 1. 形式要求清单（零容忍级别）

| 要求项 | 具体规定 | 是否有弹性空间 |
|--------|----------|---------------|
| 正文字数 | [从征稿启事提取] | [说明] |
| 摘要字数 | [从征稿启事提取] | [说明] |
| 关键词数量 | [从征稿启事提取] | [说明] |
| 引用格式 | [APA/MLA/Chicago/GB/T等] | [说明] |
| 匿名要求 | [是否双盲；作者信息如何处理] | — |
| 提交格式 | [Word/PDF/LaTeX等] | [说明] |
| 截止日期 | [注明时区] | — |

#### 2. 主题范围界定

- **明确要求的议题**：逐条列出征稿启事中明确点名的主题
- **隐含的理论偏好**：从征稿语言（关键词选择、引用风格、描述倾向）推断该刊物/会议的理论偏好
  - 例：大量使用「媒介性」「物质转向」→ 偏好新物质主义框架
  - 例：强调「产业实践」「玩家行为数据」→ 偏好实证研究
- **边界案例**：哪些议题处于征稿范围的灰色地带（可投但需说明关联）

#### 3. 目标期刊/会议学术定位

从征稿语言推测：
- **审稿人画像**：来自哪些学科背景？偏好什么论证风格？
- **方法论偏好**：偏理论/偏实证/混合方法？更偏向哪些学派或者理论传统？
- **引用生态**：该共同体的核心文献是什么？（推测，供写作时参考）

#### 4. 写作禁忌

明确排除的内容（从征稿启事的措辞中识别）：
- 不欢迎的话题类型
- 不接受的研究方法
- 需要回避的风格偏好
- 其他隐性禁忌（如：该刊物已大量发表某类文章，再投同类将被视为重复）

#### 5. 评分权重预测

根据征稿语言，预测审稿标准的权重分布（总计100%）：
- 理论创新性：[X]%
- 论证严密性：[X]%
- 实证/案例支撑：[X]%
- 文献综述的覆盖面：[X]%
- 写作质量与规范：[X]%
- 与本次征稿主题的契合度：[X]%

> **注意**：这一步纯粹是技术分析，不涉及内容创作。分析结果将作为后续所有步骤的「北极星」。

### 收尾
**确认已将结果输出到文件**
**确认已经更新进度**
**执行断点检查**：输出当前步骤执行结果报告，然后将相应的上下文（包括：`plan.md`、对应的技能）和执行结果报告注入subagent，令其判断执行过程是否符合程序。如subagent认为有不符合流程或存在疑虑之处，**必须**向用户提问确认，**严禁**自作主张。

---

## 步骤二：讨论成果结构化整理

**触发条件**：已通过文件上传或对话粘贴获取了讨论记录（会议记录、头脑风暴笔记、对话记录、思维导图等非结构化素材）。

### 任务

将原始讨论内容转化为可直接用于写作的**结构化素材库**，每条素材都要标注「原始表述→学术表述」的转化过程。

### 输出结构

#### 1. 核心论点提取（3–5个，按论证强度排序）

每个论点的格式：

```
论点 [编号]：[用一句话概括，学术表述]
论证强度：★★★★☆（说明依据）
原始讨论内容：「[从记录中摘录原话]」
转化后的学术表述：[改写为符合目标期刊话语体系的表述]
所需支撑：[理论依据 / 案例 / 数据]（待步骤2.2补充）
```
概括时注意保留体现论述细节的具体内容，譬如：
- 讨论提到某游戏在运营中发生的玩家社群事件，请保留事件的具体背景介绍等内容。
- 讨论提到可以与某历史时期对照，请保留此历史时期名称和对照的方式以及意义。

#### 2. 支撑性论据分类

**理论依据**

| 理论资源 | 来源于讨论中的表述 | 建议引用方式 |
|----------|------------------|-------------|
| [理论家/著作] | 「[观点精炼概括]」 | [直接引用/转述/批判性引用] |

**主要案例**

| 案例 | 在讨论中的功能 | 分析切入点 |
|------|--------------|-----------|
| [名称] | [用于支撑哪个论点] | [与归纳的核心论点连接] |

**对照性案例**

| 案例 | 在讨论中的功能 | 分析切入点 |
|------|--------------|-----------|
| [名称] | [用于支撑哪个论点] | [与归纳的核心论点连接] |

**数据/实证支撑**（如有）

| 数据类型 | 讨论中的提及 | 核实状态 |
|----------|------------|---------|
| [数据描述] | 「[原话]」 | [已核实/待核实/需补充] |

#### 3. 潜在争议点识别

逐一列出讨论中出现的，或从论点逻辑可预见的**学术争议**：

- **争议点**：[描述]
- **争议来源**：[来自讨论内部分歧 / 来自现有文献中的反对声音]
根据争议具体情况和学科背景进行处理

#### 4. 理论资源清单

从讨论中提到或**逻辑暗示**的理论资源：

```
[作者姓名]（[年份]）《[著作/论文名]》
- 讨论中的体现：「[原话或逻辑关联]」
- 在文章中的预期功能：[奠基/批判/支撑/对话]
- 核实状态：[已确认引用信息 / 待核实版本/页码]
```

#### 5. 逻辑链条梳理

绘制各核心论点之间的**推导关系**：

```
论点A（前提）
  └→ 因为[推导关系]，所以→ 论点B（中间论点）
       └→ 结合[案例/理论]→ 论点C（主要论证）
            └→ 由此可以得出→ 论点D（结论）
```

标注**薄弱链条**（推导关系依赖假设较多的地方），并提供加固建议。

### 收尾
**确认已将结果输出到文件**
**确认已经更新进度**
**执行断点检查**：输出当前步骤执行结果报告，然后将相应的上下文（包括：`plan.md`、对应的技能）和执行结果报告注入subagent，令其判断执行过程是否符合程序。如subagent认为有不符合流程或存在疑虑之处，**必须**向用户提问确认，**严禁**自作主张。

---

## 步骤三：文章结构学术化设计

**触发条件**：完成步骤一和步骤二，或用户直接提供了论文内容大纲。

### 任务

基于征稿要求和讨论成果，设计符合学术规范的**可执行写作结构**。

#### 1. 拟定备选标题（生成3个，让用户决定）

##### 标题拟定方法
1. 主副标题的双重功能：采用主副标题的结构形式，两者分工明确。主标题的任务是制造悬念、冲击或情感共鸣，负责在第一时间抓住读者的眼球；副标题则必须回归理性，清晰严谨地界定研究的具体对象、方法或视角，负责说明研究的实质内容。两者之间推荐使用破折号或问号进行连接，形成“诱捕+解释”的闭环。
2. 矛盾导向而非描述导向：标题内容必须包含一个明确的研究问题或内在矛盾，而非使用平铺直叙的描述性语言。需要体现出看似无关事物的紧密联系，或者揭示出现象表面与本质之间的反直觉张力，而非仅仅罗列研究对象。我们要看的是“为什么”和“怎么样”，而不是“是什么”。
3. 理论套话隐身：主标题中严禁直接出现理论家或理论名字，政策表述或热点概念，并机械套用，请将理论表述、政策表述转化为通俗易懂的现象描述或核心问题。真正的高手应当把理论内化在对现象的敏锐洞察中，而不是挂在标题上吓人。

##### 标题质量评估方法
1. 学术问题意识（4分）：这是权重的核心。评审需考察标题是否提出了一个真问题，副标题是否成功将主标题的噱头转化为可研究的学术议题。高分作品应当展现出逻辑上的深刻张力或批判性思考，而非单纯的情绪宣泄。
2. 吸引力（3分）：主要评价主标题是否足够“标题党”。一个好的主标题应当能在三秒内通过制造反差、恐惧或认同感来激发读者的好奇心，让人产生无法抗拒的点击冲动，甚至产生“如果不看这篇文章就会错过重要认知”的紧迫感。
3. 可行性（2分）：评审需要判断该题目是否具备转化为正规论文的潜力。这包括考量是否存在可获取的研究材料、田野现场或数据支持，以排除那些为了博眼球而过度夸张、逻辑断裂导致无法实际论证的“空头支票”。
4. 简洁与通俗（1分）：在隐藏理论家名字并保留理论骨架的基础上，评审将优先嘉奖那些表达精炼的作品。高分标题应当用词经济、节奏明快，拒绝冗长拖沓的长难句，确保非专业读者能一眼看懂核心关切，实现学术话语既通俗又简洁的完美转译。

每个标题须同时满足：
- 体现**理论批判性**（有立场，不中立）
- **精确对应**征稿主题关键词（方便检索和审稿匹配）
- 长度适中（中文标题20字以内；英文标题10个词以内）
- 副标题模式（主标题：理论概念/修辞，副标题：具体对象/方法）

##### 输出结构
格式：
```
标题A/B/C：[主标题]——[副标题]
主题匹配：[对应征稿启事的哪个关键词/议题]
质量评估：[根据标题质量评估方法评分]
```

#### 2. 文章结构方案

根据目标字数，设计合适的层级结构。

**字数-结构对应原则：**
- 5000字以内：引言 + 2–3节正文 + 结语（无需二级标题）
- 5000–10000字：引言 + 3–4节正文（含二级标题）+ 结语
- 10000字以上：引言 + 4–5节正文（含二级标题，可选三级）+ 结语

##### 结构设计注意事项

对每个结构选择说明：
- **征稿对应**：这个结构如何回应征稿启事的要求
- **讨论落地**：这个节点放置了讨论成果中的哪些核心论点
- **论证逻辑**：前后节之间的递进/转折/补充关系
- **风险提示**：这个结构安排可能存在的问题（如：某节内容过于单薄/某个过渡可能显得突兀）

##### 输出结构

```
引言（目标字数：[X]字）
└ 论证任务：[提出问题/建立张力/说明方法]
└ 关键操作：[引出核心概念；介绍案例选择依据；预告论证路径]

第一节 [标题]（目标字数：[X]字）
└ 论证任务：[对应步骤二中的哪个核心论点]
├ 1.1 [二级标题]（[X]字）
│  └ 具体任务：[理论铺垫/文献综述/概念辨析]
└ 1.2 [二级标题]（[X]字）
   └ 具体任务：[案例引入/机制分析]

第二节 [标题]（目标字数：[X]字）
└ 论证任务：[...]
├ 2.1 [二级标题]（[X]字）
└ 2.2 [二级标题]（[X]字）

[...以此类推...]

结语（目标字数：[X]字）
└ 论证任务：[综合论证；指向更大问题；开放性结尾]
└ 禁止操作：[不得在结语引入新证据；不得重复摘要式总结]
```

### 收尾
**确认已将结果输出到文件**
**确认已经更新进度**
**执行断点检查**：输出当前步骤执行结果报告，然后将相应的上下文（包括：`plan.md`、对应的技能）和执行结果报告注入subagent，令其判断执行过程是否符合程序。如subagent认为有不符合流程或存在疑虑之处，**必须**向用户提问确认，**严禁**自作主张。

---

## 使用说明

**典型调用流程：**

```
用户上传文件（或粘贴文本）
  → 检查 ./references/ 目录
  → 确认文件对应关系
  → 有征稿启事 → 执行步骤一 → 输出技术规格书
  → 有讨论记录 → 执行步骤二 → 输出结构化素材库
  → 两项均完成  → 执行步骤三 → 输出写作结构方案
```

**输入方式（两种，优先级从高到低）：**
1. **文件上传**：从./references/中读取
2. **对话粘贴**：用户直接在消息中粘贴文本（适合短文本或临时内容）

**单独使用：**
- 只有征稿启事没有讨论记录：执行步骤一，步骤二留空，步骤三基于用户口头说明的研究方向执行
- 只有讨论记录没有征稿启事：步骤一留空，执行步骤二，步骤三的形式规范部分依据用户指定的目标期刊惯例处理

**与其他 skill 的衔接：**
- 本 skill 的输出直接作为 `academic-drafter` skill 的输入
- 如果讨论记录中的理论资源需要验证，可请用户补充文献信息后再进入步骤三

**确认已经更新进度**
**执行断点检查**：输出当前步骤执行结果报告，然后将相应的上下文（包括：`plan.md`、对应的技能）和执行结果报告注入subagent，令其判断执行过程是否符合程序。如subagent认为有不符合流程或存在疑虑之处，**必须**向用户提问确认，**严禁**自作主张。
